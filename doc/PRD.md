# OKTalk AI 模块 PRD（产品需求文档）

## 1. 产品背景与目标

### 1.1 产品背景

随着人工智能语音识别与大语言模型技术的快速发展，AI 在语言学习领域的应用逐渐成熟。传统儿童英语口语学习普遍存在以下问题：

* 缺乏真实语境，儿童不敢开口
* 发音错误无法被及时、准确纠正
* 学习过程缺少持续反馈，难以坚持
* 家长和教师难以直观了解学习效果

针对 6–12 岁儿童英语口语学习特点，本项目拟通过 AI 技术构建一个**具备语音交互能力的智能口语学习系统**，以降低开口门槛，提高练习频率，并提供可量化的学习反馈。

---

### 1.2 产品目标

* 构建完整的 **AI 语音交互闭环**（语音输入 → AI 处理 → 语音输出）
* 实现 **儿童友好型 AI 英语对话体验**
* 提供 **发音纠正与量化评分能力**
* 生成 **阶段性学习报告**，可视化学习成果
* 为毕业设计提供**完整、可落地、有技术深度的系统实现**

---

## 2. 用户画像与使用场景

### 2.1 目标用户

* **主要用户**：6–12 岁中国儿童
* **间接用户**：家长、教师（查看学习报告）

### 2.2 使用场景

* 儿童在家中使用 App 与 AI 进行英语对话
* 儿童进行单词或句子的朗读练习，获取纠音反馈
* 家长查看孩子一周 / 一月的学习情况与进步趋势

---

## 3. 功能范围概述（本 PRD 覆盖）

本 PRD 主要覆盖以下三个核心 AI 功能模块：

1. **AI 语音对话**
2. **AI 发音纠正**
3. **智能学习报告生成**

---

## 4. 功能一：AI 语音对话（核心功能）

### 4.1 功能描述

AI 语音对话功能支持儿童通过语音与 AI 助手进行英语交流。系统通过语音识别获取用户输入内容，经大语言模型生成回复，再通过语音合成返回语音结果，形成自然的人机对话体验。

---

### 4.2 用户交互流程

1. 用户点击麦克风按钮
2. App 开始录音（麦克风图标变为波浪）
3. 用户说英语内容
4. 用户点击停止按钮
5. 语音上传后端
6. AI 返回语音回复并自动播放

---

### 4.3 后端处理流程（逻辑视角）

```
音频输入
   ↓
阿里云 Fun-ASR（语音识别）
   ↓
文本结果
   ↓
通义千问 Qwen3-Max（对话生成）
   ↓
生成回复文本
   ↓
阿里云 CosyVoice（语音合成）
   ↓
音频输出
```

---

### 4.4 技术选型

| 模块     | 技术方案             |
| ------ | ---------------- |
| 后端语言   | Go               |
| Web 框架 | Gin              |
| ASR    | 阿里云 Fun-ASR      |
| LLM    | 通义千问 Qwen3-Max   |
| TTS    | 阿里云 CosyVoice    |
| 通信方式   | HTTP + WebSocket |
| 音频格式   | WAV              |

---

### 4.5 关键需求点

* 支持儿童口音与语速
* 对话语气友好、鼓励性强
* 输出内容简短、易理解
* 对话角色固定（如：耐心英语老师）

---

## 5. 功能二：AI 发音纠正（评分型功能）

### 5.1 功能描述

AI 发音纠正功能用于对儿童朗读的单词或句子进行评测，系统对发音进行分析评分，并通过语音形式给出反馈与引导。

---

### 5.2 用户交互流程

1. 用户进入纠音页面
2. 选择单词或句子
3. 点击录音并朗读
4. 系统返回评分与语音反馈

---

### 5.3 后端处理流程

```
音频输入
   ↓
科大讯飞语音评测 API
   ↓
评分结果（准确度 / 流利度等）
   ↓
评分数据 + 提示词
   ↓
通义千问 Qwen3-Max
   ↓
生成反馈文本
   ↓
阿里云 CosyVoice
   ↓
语音反馈输出
```

---

### 5.4 评分维度（示例）

* 发音准确度（Accuracy）
* 流利度（Fluency）
* 完整度（Integrity）
* 综合评分（0–100）

---

### 5.5 关键需求点

* 评分结果可量化
* 反馈语言积极、鼓励
* 指出错误但不过度打击儿童信心

---

## 6. 功能三：智能学习报告生成

### 6.1 功能描述

系统根据用户历史学习数据，自动生成阶段性学习报告，帮助儿童和家长了解学习情况和进步趋势。

---

### 6.2 数据来源

数据库表：`user_learning_record`

| 字段              | 说明    |
| --------------- | ----- |
| user_id         | 用户 ID |
| date            | 学习日期  |
| speaking_score  | 综合口语分 |
| fluency_score   | 流利度   |
| accuracy_score  | 准确度   |
| duration        | 学习时长  |
| completed_tasks | 完成任务数 |

---

### 6.3 报告生成流程

```
选择时间范围（如7天）
   ↓
SQL 查询学习数据
   ↓
数据统计（均值 / 总时长 / 次数）
   ↓
统计结果 + 提示模板
   ↓
通义千问 Qwen3-Max
   ↓
生成自然语言学习报告
```

---

### 6.4 报告内容示例

* 本周学习次数
* 平均口语得分变化
* 发音进步趋势
* AI 学习建议（鼓励式）

---

### 6.5 关键需求点

* 数据真实、可追溯
* 文本表达通俗易懂
* 报告偏正向激励

---

## 7. 非功能性需求

| 类别  | 要求                  |
| --- | ------------------- |
| 性能  | 单次语音处理 ≤ 3–5 秒      |
| 可用性 | 接口失败需返回明确错误         |
| 扩展性 | ASR / TTS / LLM 可替换 |
| 安全性 | API Key 后端管理        |

---

## 8. 本 PRD 不包含内容

* AR 功能
* 游戏逻辑实现
* 用户系统与支付模块

---

## 9. 总结

本 PRD 以儿童英语口语学习为核心场景，围绕 AI 语音交互、发音纠正和学习反馈三个关键能力，设计了一套完整的 AI 驱动口语学习方案。该方案技术路线清晰、实现可行，具备较强的工程完整性与毕业设计研究价值。